(function($,window,document,undefined){var pluginName="mailmask",defaults={placeholder:"[at]"};function Plugin(element,options){this.element=element;this.settings=$.extend({},defaults,options);this._defaults=defaults;this._name=pluginName;this.init()}$.extend(Plugin.prototype,{init:function(){var placeholder=String(this.settings.placeholder).replace("<","&lt;").replace(">","&gt;");$('a[href^="mailto:"]').each(function(){var innerhtml=$(this).html();$(this).html(innerhtml.replace("@",placeholder));$(this).attr("href",$(this).attr("href").replace("@","[at]"));$(this).removeAttr("target")});$(document).on("click",'a[href^="mailto:"]',function(e){if($(this).attr("href").indexOf("[at]")>0){e.preventDefault();$(this).attr("href",$(this).attr("href").replace("[at]","@"));$(this)[0].click()}})}});$.fn[pluginName]=function(options){this.each(function(){if(!$.data(this,"plugin_"+pluginName)){$.data(this,"plugin_"+pluginName,new Plugin(this,options))}});return this}})(jQuery,window,document);
